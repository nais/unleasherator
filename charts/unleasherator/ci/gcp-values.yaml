---
controllerManagerGcp:
  serviceAccountCredentialsJson: "{}"

# Use locally built image for e2e tests
controller:
  manager:
    imagePullPolicy: Never

# Test configuration - faster timeouts for local/CI testing
# For slower CI systems, override these with higher values
test:
  jobDeadlineSeconds: 420       # 7 minutes total for the test job
  waitIterations: 60            # Number of attempts to wait for resources
  intervalSeconds: 5            # Seconds between wait attempts
  connectionRetries: 20         # Number of API connection retries
  connectionIntervalSeconds: 3  # Seconds between connection retries

networkPolicy:
  enabled: true
  apiServerCIDR: 10.43.0.1/32
  allowDNS: true
  allowedNamespaces:
    - unleasherator-system
    - unleasherator-e2e-test  # Used by ct install --namespace
    - foo
    - bar
  extraOutboundIPs:
    - 1.2.3.4
    - 4.5.6.7
  otlpServiceEndpoint:
  - to:
    - namespaceSelector:
        matchLabels:
          "kubernetes.io/metadata.name": nais-system
      podSelector:
        matchLabels:
          "app.kubernetes.io/component": distributor
          "app.kubernetes.io/instance": tempo
          "app.kubernetes.io/name": tempo
    ports:
      - port: 4317
        protocol: TCP
